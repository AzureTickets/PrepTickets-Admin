<div ui-if="auth.isDomainProfileReady() && !auth.isPublic()">
	<div class="row-fluid">
		<div class="span12">
			<!-- List starts -->
			<ul class="today-datas">
				<!-- List #1 -->
				<li class="bred" ng-include ng-cloak
					src="'views/elements/dashboard_widgets/metric_widgets/visitor_count.html'"></li>
				<li class="bgreen" ng-include ng-cloak
					src="'views/elements/dashboard_widgets/metric_widgets/attendees.html'"></li>
				<li class="blightblue" ng-include ng-cloak
					src="'views/elements/dashboard_widgets/metric_widgets/bounce_rate.html'"></li>
				<li class="bviolet" ng-include ng-cloak
					src="'views/elements/dashboard_widgets/metric_widgets/sales.html'"></li>
			</ul>
		</div>
	</div>
	<!-- Today status ends -->
	<!-- Dashboard Graph starts -->
	<div class="row-fluid">
		<div class="span8">
			<div class="widget wlightblue" ng-include ng-cloak
				src="'views/elements/dashboard_widgets/last_30_days.html'"></div>
		</div>
		<div class="span4">
			<div class="widget wblue" ng-include ng-cloak
				src="'views/elements/dashboard_widgets/today_status.html'"></div>
		</div>
	</div>
</div>
<!-- Widget ends -->
<script>
  /* Widget close */
  // setting a delay to allow for page rendering.  this needs to beplaced back into a directive
  // todo: move into directive
  setTimeout(function() {
    $('.wclose').click(function(e) {
      e.preventDefault();
      var $wbox = $(this).parent().parent().parent();
      $wbox.hide(100);
    });
    /* Widget minimize */
    $('.wminimize').click(function(e) {
      e.preventDefault();
      var $wcontent = $(this).parent().parent().next('.widget-content');
      if ($wcontent.is(':visible')) {
        $(this).children('i').removeClass('icon-chevron-up');
        $(this).children('i').addClass('icon-chevron-down');
      } else {
        $(this).children('i').removeClass('icon-chevron-down');
        $(this).children('i').addClass('icon-chevron-up');
      }
      $wcontent.toggle(500);
    });
  }, 600);
</script>

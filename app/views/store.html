<div class="atPanel" ng-controller="storeController" ng-init="init()"
	ng-cloak>
	<!-- top menu -->
	<div ng-include src="'views/elements/topMenu.html'"></div>
	<div ng-include src="'views/elements/error.html'"></div>
	<!-- store info -->
	<div class="row-fluid" ng-init="loadCurrencies(); loadCountries()">
		<blockquote ng-show="wizard.currentStep>
			0">
			<p>{{ 'Common.Text_RegistrationStep1' | t }}</p>
		</blockquote>
		<p class="text-info"
			ng-show="wizard.currentStep>
			0 && !Store.Key || false">{{
			'Common.Text_StoreCreate' | t }}</p>
		<div id="serviceAgreement" class="modal hide fade">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">&times;</button>
				<h3>
					<p class="text-info">{{ 'Common.Text_Agreement' | t}}</p>
				</h3>
			</div>
			<div class="modal-body">
				<div ng-include src="'views/elements/agreement.html'"></div>
			</div>
			<div class="modal-footer">
				<a href="#" data-dismiss="modal" class="btn">{{
					'Common.Text_Cancel' | t }}</a> <a href="#" class="btn btn-info"
					data-dismiss="modal" ng-click="wizard.currentStep = 1">{{
					'Common.Text_IAccept' | t }}</a>
			</div>
		</div>
		<form ng-show="wizard.currentStep == 1" name="atStore1"
			ng-submit="wizard.currentStep = wizard.currentStep+1">
			<dl class="clearfix">
				<dd>
					<atfield ng-required="true" class="input-xlarge"
						ng-model="Store.Name" label="'Common.Text_StoreName' | t" />
				</dd>
				<dd>
					<atfield class="input-xlarge" ng-model="Store.Description"
						label="'Common.Text_Description' | t" rows="5" />
				</dd>
				<dd>
					<input type="submit" class="btn btn-primary clear"
						value="{{
							'Common.Text_Next' | t }}" />
				</dd>
			</dl>
		</form>
		<form ng-show="wizard.currentStep == 2" name="atStore2"
			ng-submit="wizard.currentStep = wizard.currentStep+1">
			<dl class="clearfix">
				<dd>
					<label>{{'Address.LabelCountry' | t}}</label> <select
						data-placeholder="{{ 'Common.Text_ChooseOption' | t}}"
						ui-select2="{containerCssClass:'input-xlarge'}" ng-required="true"
						ng-model="Store.Address.Country"
						ng-change="loadTimezonesByCountry(Store.Address.Country)">
						<option></option>
						<option ng-selected="c.ISO == Store.Address.Country"
							ng-repeat="c in countries" value="{{c.ISO}}">{{c.Name}}</option>
					</select>
				</dd>
				<dd ng-show="Store.Address && Store.Address.Country || false">
					<label>{{'Address.LabelState' | t}} /
						{{'Address.LabelProvince' | t}}</label> <select
						data-placeholder="{{ 'Common.Text_ChooseOption' | t}}"
						ui-select2="{containerCssClass:'input-xlarge'}" ng-required="true"
						ng-model="Store.Address.Region">
						<option></option>
						<option ng-selected="c.ISO == Store.Address.Country"
							ng-repeat="r in regions" value="{{r.Key}}">{{t.Name}}</option>
					</select>
				</dd>
				<dd>
					<label>{{'Common.Text_StoreCurrency' | t}}</label> <select
						ui-select2="{containerCssClass:'input-xlarge'}" ng-required="true"
						data-placeholder="{{ 'Common.Text_ChooseOption' | t}}"
						ng-model="Store.Currency">
						<option></option>
						<option ng-selected="curr.ISO == Store.Currency"
							ng-repeat="curr in currencies" value="{{curr.ISO}}">{{curr.Name}}</option>
					</select>
				</dd>
				<dd ng-show="Store.Address && Store.Address.Country || false">
					<label>{{'Address.LabelTimezone' | t}}</label> <select
						data-placeholder="{{ 'Common.Text_ChooseOption' | t}}"
						ui-select2="{containerCssClass:'input-xlarge'}" ng-required="true"
						ng-model="Store.Address.Timezone">
						<option></option>
						<option ng-repeat="t in timezones" ng-value="t.Key">{{t.Name}}</option>
					</select>
				</dd>
			</dl>
			<dl>
				<dd class="pull-left">
					<input type="button" ng-show="wizard.currentStep>1"
						ng-click="wizard.currentStep = wizard.currentStep-1"
						class="btn btn-primary clear"
						value="{{ 'Common.Text_Back' | t
						}}" />
				</dd>
				<dd class="pull-left">
					<input type="submit" class="btn btn-primary clear"
						value="{{
		 							'Common.Text_Next' | t }}" />
				</dd>
			</dl>
		</form>
		<dl ui-if="wizard.finished" class="clearfix">
			<dd>
				<input type="button" ng-click="save()" class="btn btn-primary clear"
					value="{{
							'Common.Text_Create' | t }}" />
			</dd>
		</dl>
	</div>
</div>
<div class="atPanel" ng-cloak>
	<!-- top menu -->
	<div ng-include src="'views/elements/error.html'"></div>
	<div ui-if="DomainProfile.Key && wizard.currentStep > 0 || false"
		ng-include src="'views/elements/store/bcPreRegister.html'"></div>
	<!-- store pre register -->
	<div ui-if="DomainProfile && DomainProfile.Key" class="row-fluid">
		<span>
			<p ng-show="wizard.currentStep>
			0" class="lead">{{
				'Common.Text_StorePreRegister_Step1' | t }}</p>
			<div ng-switch="wizard.currentStep">
				<div ng-switch-when="1" class="alert">
					<button type="button" class="close" data-dismiss="alert">&times;</button>
					{{ 'Common.Text_StorePreRegister' | t }}
				</div>
				<div class="alert alert-info" ng-switch-when="3">
					<strong>{{ 'Common.Text_Confirm' | t }}</strong>
				</div>
			</div>
			<div class="alert alert-success"
				ui-if="wizard.saved && wizard.finished">
				<strong>{{ 'Common.Text_Congrats' | t }}</strong> {{
				'Common.Text_WizardComplete' | t }}
			</div>
		</span>
		<div id="serviceAgreement" class="modal hide fade">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">&times;</button>
				<h3>
					<p class="text-info">{{ 'Common.Text_Agreement' | t}}</p>
				</h3>
			</div>
			<div class="modal-body modal-agreement">
				<div ng-include src="'views/elements/agreement.html'"></div>
			</div>
			<div class="modal-footer">
				<a href="#" data-dismiss="modal" class="btn">{{
					'Common.Text_Cancel' | t }}</a> <a href="#" class="btn btn-info"
					data-dismiss="modal" ng-click="upgradeProfile()">{{
					'Common.Text_IAccept' | t }}</a>
			</div>
		</div>
		<ng-form name="atStorePreRegister" ng-submit="submitRequest()">
		<form ng-show="wizard.currentStep == 1" name="atStorePreRegister1"
			ng-submit="URIAvailable && wizard.next('atStorePreRegister1', false, searchStorePreRegister) || false">
			<dl class="clearfix">
				<dd>
					<atfield at-required class="input-xlarge"
						ng-model="StorePreRegister.Name"
						label="'Common.Text_StorePreRegisterName' | t"></atfield>
				</dd>
				<dd>
					<atfield at-required class="input-xlarge"
						ng-model="StorePreRegister.City" label="'Address.LabelCity' | t"></atfield>
				</dd>
				<dd class="pull-left">
					<a ng-show="wizard.currentStep>1"
						ng-click="wizard.currentStep = wizard.currentStep-1"
						class="btn btn-primary clear">{{ 'Common.Text_Back' | t }}</a>
				</dd>
				<dd class="pull-left">
					<input type="submit" class="btn btn-primary clear"
						value="{{
							'Common.Text_Next' | t }}" />
				</dd>
			</dl>
		</form>
		<form ui-if="wizard.currentStep == 2 && !wizard.saved"
			name="atStorePreRegister2"
			ng-submit="wizard.next('atStorePreRegister2', true)">
			<dl>
				<dd class="clear row-fluid">
					<div class="span6">
						<!-- list StorePreRegister results -->
					</div>
				</dd>
				<dd class="pull-left">
					<a ng-show="wizard.currentStep>1"
						ng-click="wizard.currentStep = wizard.currentStep-1"
						class="btn btn-primary clear">{{ 'Common.Text_Back' | t }}</a>
				</dd>
				<dd class="pull-left">
					<input type="submit" class="btn btn-success clear"
						value="{{
		 							'Common.Text_SendRequest' | t }}" />
				</dd>
			</dl>
		</form>
		<dl ui-if="wizard.finished" class="clearfix">
			<dd class="clear">
				<ul ui-if="!wizard.saved" class="wizardProgress">
					<li><span
						ng-class="{'label-success': wizard.checkStep.requested, 'label-important':!wizard.checkStep.requested}"
						class="label">{{ 'Common.Text_SendRequest' | t }}</span></li>
				</ul>
			</dd>
			<dd class="pull-left">
				<a ng-show="wizard.currentStep>1 && wizard.saved"
					ng-click="wizard.currentStep = wizard.currentStep-2; wizard.finished = false; wizard.saved = false"
					class="btn btn-primary clear">{{ 'Common.Text_Back' | t }}</a>
			</dd>
		</dl>
		</ng-form>
	</div>
</div>